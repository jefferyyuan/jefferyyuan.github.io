<!doctype html><meta charset=utf-8><meta name=generator content="pandoc"><meta name=author content="Jeffery Yuan"><meta name=dcterms.date content="2019-04-24"><title>How to Improve Problem Solving Skills</title><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,minimal-ui"><link rel=stylesheet href=https://revealjs.com/css/reveal.css><link rel=stylesheet href=https://revealjs.com/lib/css/zenburn.css><link rel=stylesheet href=https://revealjs.com/css/theme/black.css id=theme><style>.reveal .slides>section>section{text-align:left}.reveal h1{text-align:center}.reveal h2{text-align:center}.reveal h3{text-align:center}code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}span.underline{text-decoration:underline}div.column{display:inline-block;vertical-align:top;width:50%}</style><style>a.sourceLine{display:inline-block;line-height:1.25}a.sourceLine{pointer-events:none;color:inherit;text-decoration:inherit}a.sourceLine:empty{height:1.2em;position:absolute}.sourceCode{overflow:visible}code.sourceCode{white-space:pre;position:relative}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{code.sourceCode{white-space:pre-wrap}a.sourceLine{text-indent:-1em;padding-left:1em}}pre.numberSource a.sourceLine{position:relative}pre.numberSource a.sourceLine:empty{position:absolute}pre.numberSource a.sourceLine::before{content:attr(data-line-number);position:absolute;left:-5em;text-align:right;vertical-align:baseline;border:none;pointer-events:all;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em;color:#aaa}pre.numberSource{margin-left:3em;border-left:1px solid #aaa;padding-left:4px}div.sourceCode{}@media screen{a.sourceLine::before{text-decoration:underline}}code span.al{color:red;font-weight:700}code span.an{color:#60a0b0;font-weight:700;font-style:italic}code span.at{color:#7d9029}code span.bn{color:#40a070}code span.bu{}code span.cf{color:#007020;font-weight:700}code span.ch{color:#4070a0}code span.cn{color:#800}code span.co{color:#60a0b0;font-style:italic}code span.cv{color:#60a0b0;font-weight:700;font-style:italic}code span.do{color:#ba2121;font-style:italic}code span.dt{color:#902000}code span.dv{color:#40a070}code span.er{color:red;font-weight:700}code span.ex{}code span.fl{color:#40a070}code span.fu{color:#06287e}code span.im{}code span.in{color:#60a0b0;font-weight:700;font-style:italic}code span.kw{color:#007020;font-weight:700}code span.op{color:#666}code span.ot{color:#007020}code span.pp{color:#bc7a00}code span.sc{color:#4070a0}code span.ss{color:#b68}code span.st{color:#4070a0}code span.va{color:#19177c}code span.vs{color:#4070a0}code span.wa{color:#60a0b0;font-weight:700;font-style:italic}.reveal h1{font-size:1.6em}.reveal h2{font-size:1.4em}</style><script>var link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.href=window.location.search.match(/print-pdf/gi)?'https://revealjs.com/css/print/pdf.css':'https://revealjs.com/css/print/paper.css';document.getElementsByTagName('head')[0].appendChild(link);</script><div class=reveal><div class=reveal><div class=reveal><div class=slides><section id=title-slide><h1 class=title>How to Improve Problem Solving Skills</h1><p class=author>Jeffery Yuan<p class=date>April 24, 2019</section><section><section class="title-slide slide level1" id=why-problem-solving-skills-matters><h1>Why Problem-solving skills matters</h1></section><section class="slide level2" id=problem-solving-and-troubleshooting><h2>Problem Solving and troubleshooting</h2><ul><li>Is fun<li>Is part of daily work<li>Solve the problem, get things done<li>Work More efficiently<li>With more confidence<li>Less pressure<li>Go home earlier</ul></section><section class="slide level2" id=solve-the-problem-when-needed><h2>Solve the Problem when Needed</h2><ul><li>It’s your responsibility if it blocks you, the team</ul></section></section><section><section class="title-slide slide level1" id=how-to-solve-a-problem><h1>How to Solve a Problem</h1></section><section class="slide level2" id=understand-the-problemenvironment-first><h2>Understand the Problem/environment First</h2><ul><li>Understand the problem before google search otherwise it may just lead you to totally wrong directions.<li>Find related log/data<li>Copy/Save logs/info/findings that may be related</ul></section><section class="slide level2" id=check-the-log-and-error-message><h2>Check the Log and Error Message</h2><ul><li>Read/Understand the error message<li>Where to find log<ul><li>Common places: /var/log<li>From command line:<ul><li>-Dcassandra.logdir=/var/log/cassandra</ul></ul></ul></section><section class="slide level2" id=case-study-the-log-and-error-message><h2>Case Study – The Log and Error Message</h2><h4 id=problem-failed-to-talk-cassandra-server-10.10.10.10>Problem: Failed to talk Cassandra server: 10.10.10.10</h4><ul><li><p>Where 10.10.10.10 comes from?<div class=sourceCode id=cb1><pre class="sourceCode bash"><code class="sourceCode bash"><a class=sourceLine data-line-number=1 id=cb1-1><span class=ex>gfind</span> . -iname <span class=st>'*.jar'</span> -printf <span class=st>"unzip -c %p</span></a>
<a class=sourceLine data-line-number=2 id=cb1-2><span class=st>| grep -q 10.10.10.10' &amp;&amp; echo %p\n"</span></a></code></pre></div><li>or search in corporate github/code base<li>It comes from commons2 project; check what’s the current settings in Github<li>Now the problem and solution is clear<ul><li>Just upgrade commons2 to latest version</ul></ul></section><section class="slide level2" id=source-code-is-always-the-ultimate-truth><h2>Source code is always the ultimate truth</h2><ul><li>Find related code in Github<li>Find examples/working code<li>Understand how/why the code works by running and debug the code<li>Check the log with the code<ul><li>Most problems can be solved by checking log and source code</ul></ul></section><section class="slide level2" id=reproduce-the-problem><h2>Reproduce the problem</h2><ul><li>Find easier way to reproduce them<ul><li>main method, unit test, mock</ul><li>Simplify the suspect code<ul><li>Find the code related, remove things not realtedUse</ul><li>Reproduce locally<li>Connect to the remote data in local dev<li>Remote debug<ul><li>Last resort, slow</ul></ul></section><section class="slide level2" id=solving-problem-from-different-angles><h2><a href=https://lifelongprogrammer.blogspot.com/2016/03/solving-problem-from-different-angles.html target=blank>Solving Problem from Different Angles</a></h2><ul><li>Sometime we find problem in production and we need code change to fix it<ul><li>Try to find a workaround by changing database/Solr or other configuration<li>We can fix code later</ul></ul></section><section class="slide level2" id=find-information-effectively><h2><a href=https://lifelongprogrammer.blogspot.com/2016/04/search-more-effectively-programmer.html target=blank>Find Information Effectively</a></h2><ul><li>Google search: error message, exception<li>Search source code in Github/Eclipse<li>Search log<li>Search in IDE<ul><li>Cmd+alt+h, cmd+h</ul><li>Search command history<ul><li>history | grep git | grep erase<br><li>history | grep ssh | grep 9042<li>history | grep kubectl | awk ‘{$1="";print}’ | sort -u</ul></ul></section><section class="slide level2" id=find-information-effectively-cont.><h2><a href=https://lifelongprogrammer.blogspot.com/2016/04/search-more-effectively-programmer.html target=blank>Find Information Effectively Cont.</a></h2><ul><li>Know company’s internal resource<ul><li>where to find them</ul><li>Know some experts (in company) you can ask help from</ul></section><section class="slide level2" id=how-to-troubleshoot-and-debug><h2><a href=https://lifelongprogrammer.blogspot.com/2016/05/how-to-troubleshoot-and-debug.html target=blank>How to Troubleshoot and Debug</a></h2><ul><li>Don’t overcomplicate it.<li>In most cases, the solution/problem is quite simple<li>Troubleshooting is about thinking what may go wrong.<li>Track what change you have made</ul></section><section class="slide level2" id=resource-about-troubleshooting><h2>Resource About Troubleshooting</h2><ul><li><a href=https://pragprog.com/book/pbdp/debug-it target=blank>Debug It!: Find, Repair, and Prevent Bugs in Your Code</a></ul></section><section class="slide level2" id=urgent-issues-in-production><h2>Urgent Issues in Production</h2><ul><li>Collaborate and share update timely<li>Let others know what you are testing/checking, the progress, what you have found, what you will do next</ul></section></section><section><section class="title-slide slide level1" id=ask-for-help><h1>Ask for help</h1></section><section class="slide level2" id=before><h2>Before</h2><ul><li>Try to understand the problem and fix it by yourself first<ul><li>If this applies: not urgent</ul></ul></section><section class="slide level2" id=where-and-who><h2>Where and Who</h2><ul><li>Coworkers<li>Involve more people: the team, related teams<li>Stackoverflow<li>Specific forums<li>Google Groups<li>Github issues<li>Ask in multiple channels</ul></section><section class="slide level2" id=how-to-ask-help><h2>How to Ask Help</h2><ul><li>Provide <strong>more</strong> context and info<ul><li>log, stack trace or any information that may help others understand the problem</ul><li>Provide what you have found, tried<li>Ask help once for same/similar/related issues</ul></section><section class="slide level2" id=learn-more><h2>Learn more</h2><ul><li>The knowledge: root cause, etc<li>Learn their thinking process<ul><li>how they approach this problem (logs, code), tools</ul></ul></section><section class="slide level2" id=fix-samesimilarrelated-problems-in-other-places><h2>Fix same/similar/related problems in other places</h2><ul><li>People make same mistakes in different places<ul><li>Example: <code>GetMapping(value = "/config/{name:.+}")</code></ul></ul></section></section><section><section class="title-slide slide level1" id=knowledge-tools><h1>Knowledge &amp; Tools</h1></section><section class="slide level2" id=knowledge><h2>Knowledge</h2><ul><li>Be prepared<li>Learn how to debug/troubleshooting<li>Learn tools used for debugging<li>Learn framework, library, products, services used in your project<ul><li>Apache/Tomcat configuration<li>How to manage/troubleshoot Cassandra/Kafka/Solr</ul><li>Know what problem may happen, code change recently</ul></section><section class="slide level2" id=knowledge-cont.><h2>Knowledge cont.</h2><h3 id=common-problems>Common Problems</h3><ul><li>Different versions of same library<li>mvn dependency:tree<br><li>mvn dependency:tree -Dverbose -Dincludes=com.amazonaws:aws-java-sdk-core</ul></section><section class="slide level2" id=tools---eclipse><h2>Tools - Eclipse</h2><ul><li><a href=https://lifelongprogrammer.blogspot.com/2013/10/use-eclipse-conditional-breakpoint-to.html target=blank>Use Conditional Breakpoint to Execute Arbitrary Code (and automatically)</a><li><a href=https://lifelongprogrammer.blogspot.com/2013/10/use-eclipse-display-view-while-debugging.html target=blank>Use Display View to Execute Arbitrary Code</a><li><a href=https://lifelongprogrammer.blogspot.com/2014/12/find-which-jar-containing-class-definition.html target=blank>Find which jar containing the class and the application is using</a><ul><li><code>MediaType.class.getProtectionDomain().getCodeSource().getLocation()</code></ul><li>Breakpoint doesn’t work<ul><li>Multiple versions of same class or library</ul></ul></section><section class="slide level2" id=practice---connect-to-the-remote-data-in-local-dev><h2><a href=https://lifelongprogrammer.blogspot.com/2016/03/solr-tips-and-tricks.html target=blank>Practice - Connect to the remote data in local dev</a></h2><ul><li>Create a tunnel to zookeeper and solr nodes<li>Add a conditional breakpoint at <code>CloudSolrClient.sendRequest(SolrRequest, String)</code><ul><li>before <code>LBHttpSolrClient.Req req = new LBHttpSolrClient.Req(request, theUrlList);</code></ul><div class=sourceCode id=cb2><pre class="sourceCode java"><code class="sourceCode java"><a class=sourceLine data-line-number=1 id=cb2-1>theUrlList.<span class=fu>clear</span>();</a>
<a class=sourceLine data-line-number=2 id=cb2-2>theUrlList.<span class=fu>add</span>(<span class=st>"http://localhost:18983/solr/searchItems/"</span>);</a>
<a class=sourceLine data-line-number=3 id=cb2-3>theUrlList.<span class=fu>add</span>(<span class=st>"http://localhost:28983/solr/searchItems/"</span>);</a>
<a class=sourceLine data-line-number=4 id=cb2-4><span class=kw>return</span> <span class=kw>false</span>;</a></code></pre></div></ul></section><section class="slide level2" id=tools---decompiler><h2>Tools - Decompiler</h2><ul><li><a href=https://github.com/Konloch/bytecode-viewer target=blank>GUI: Bytecode-Viewer</a><ul><li>alias decom=“java -jar /Users/jyuan/apple/tools/misc/Bytecode-Viewer-2.9.11.jar”</ul><li><a href=http://www.benf.org/other/cfr/ target=blank>CFR</a><ul><li>Best, Support java8</ul></ul></section><section class="slide level2" id=tools---java><h2>Tools - Java</h2><ul><li><a href=http://marxsoftware.blogspot.com/2016/02/jcmd-one-jdk-command-line-tool-to-rule.html target=blank>jcmd: One JDK Command-Line Tool to Rule Them All</a><ul><li>jcmd <pid>Thread.print</pid><li>jcmd <pid>GC.heap_dump <filename></filename></pid></ul><li>Thread dump Analyzer<ul><li><a href=http://fastthread.io/ target=blank>fastthread</a></ul><li>Heap dump Analyzer<ul><li><a href=https://www.eclipse.org/mat/ target=blank>Eclipse MAT</a></ul><li>VisualVM</ul></section><section class="slide level2" id=tools---splunk><h2><a href=https://lifelongprogrammer.blogspot.com/2019/05/splunk-troubleshooting-skills.html target=blank>Tools - Splunk</a></h2><ul><li>Syntax<li>Expand messages to show all fields<ul><li>Click <code>Format</code> on the top and select <code>All lines</code> for the <code>Max Lines</code> setting</ul><li>After search and find the problem, use nearby Events +/- x seconds to show context</ul></section><section class="slide level2" id=tools---misc><h2><a href=https://lifelongprogrammer.blogspot.com/2019/05/linux-command-search.html target=blank>Tools - Misc</a></h2><ul><li><p>Search Contents of .jar Files for Specific String <code>gfind . -iname '*.jar' -printf "unzip -c %p | grep -q 'string_to_search' &amp;&amp; echo %p\n" | s</code><li>nc -zv, lsof, df, find, grep<li><p>Fiddler</ul></section></section><section><section class="title-slide slide level1" id=problem-solving-in-practice><h1>Problem Solving in Practice</h1></section><section class="slide level2" id=example-redis-cache.put-hangs><h2>Example: Redis cache.put Hangs</h2><ul><li>Get thread dump, figure out what’s happening when read from cache<li>Read related code to figure out how Spring implements <code>@Cacheable(sync=true RedisCache$RedisCachePutCallback</code><li>Check whether there’s cacheName~lock in redis<li>When use some feature, know how it’s implemented.</ul></section><section class="slide level2" id=practice---iterator-vs-iterable><h2><a href=https://lifelongprogrammer.blogspot.com/2017/02/iterator-vs-iterable-dont-use-iterator.html target=blank>Practice - Iterator vs Iterable</a></h2><ul><li><p>What’s the problem in the following Code?<div class=sourceCode id=cb3><pre class="sourceCode java"><code class="sourceCode java"><a class=sourceLine data-line-number=1 id=cb3-1><span class=at>@Cacheable</span>(key = <span class=st>"#appName"</span>)</a>
<a class=sourceLine data-line-number=2 id=cb3-2><span class=kw>public</span> <span class=bu>Iterator</span>&lt;Message&gt; <span class=fu>findActiveMessages</span>(<span class=dt>final</span> <span class=bu>String</span> appName) {}</a></code></pre></div></ul></section><section class="slide level2" id=practice---iterator-vs-iterable-1><h2><a href=https://lifelongprogrammer.blogspot.com/2017/02/iterator-vs-iterable-dont-use-iterator.html target=blank>Practice - Iterator vs Iterable</a></h2><ul><li>How to find the root cause<li>Symptoms: The function only works once in a while: when cache is refreshed</ul><div><ul><li class=fragment>Difference between Iterator vs Iterable<li class=fragment>Don’t use Iterator when need traverse multiple times<li class=fragment>Don’t use Iterator as cache value</ul></div></section><section class="slide level2" id=practice-2---spring-cacheable-not-working><h2><a href=https://lifelongprogrammer.blogspot.com/2017/01/spring-cacheable-not-working-and-how-to-solve-it.html target=blank>Practice 2 - Spring Cacheable Not Working</a></h2><ul><li>The class using cache annotation inited too early<li>Add a breakpoint at the default constructor of the bean, then from the stack trace we can figure out why and which bean (or configuration class) causes this bean to be created<li>Understand how spring cache works internally, spring proxy<li>CacheAspectSupport</ul></section></section><section><section class="title-slide slide level1" id=post-mortem><h1>Post Mortem</h1></section><section class="slide level2" id=reflection-lesson-learned><h2>Reflection: Lesson Learned</h2><ul><li>How we find the root causeWhy it takes so long<li>What we have learned<li>What’s the root cause<li>Why we made the mistake<li>How we can prevent this happens again<li>Share the knowledge in the team via wiki, quip, email etc.<li>Take time to solve problem, find the root cause, but only (take time to) solve it once</ul></section><section class="slide level2" id=think-more><h2>Think More</h2><ul><li>Think over the code/problem, try to find better solution even the issue’s solved<li>Everything that stops you from working effectively is a problem<li>Fix them</ul></section></section><section><section class="title-slide slide level1" id=bonus><h1>Bonus</h1></section><section class="slide level2" id=building-troubleshooting-friendly-application><h2>Building Troubleshooting-Friendly Application</h2><ul><li>Return meaningful error code and response<li>Return debug info that can check from response when requested<ul><li>Should be safe to use or protected</ul><li>Add requested_id in client (automatically when provide client application)<li>Mock User Feature<li>Preview Feature</ul></section><section class="slide level2" id=how-to-write-test-efficiently><h2><a href=https://lifelongprogrammer.blogspot.com/2016/03/testing-tips-for-java-developers.html target=blank>How to write test efficiently</a></h2><ul><li>Learn and Use <code>Hamcrest, Mockito, JUnit, TestNG, REST Assured</code><li>Add Static Import in Eclipse<ul><li>Preferences &gt; Java &gt; Editor &gt; Content Assist &gt; Favorites, then add:</ul></ul><div class=sourceCode id=cb4><pre class="sourceCode java"><code class="sourceCode java"><a class=sourceLine data-line-number=1 id=cb4-1>org.<span class=fu>hamcrest</span></a>
<a class=sourceLine data-line-number=2 id=cb4-2>org.<span class=fu>hamcrest</span>.<span class=fu>Matchers</span>.*</a>
<a class=sourceLine data-line-number=3 id=cb4-3>org.<span class=fu>hamcrest</span>.<span class=fu>CoreMatchers</span>.*</a>
<a class=sourceLine data-line-number=4 id=cb4-4>org.<span class=fu>junit</span>.*</a>
<a class=sourceLine data-line-number=5 id=cb4-5>org.<span class=fu>junit</span>.<span class=fu>Assert</span>.*</a>
<a class=sourceLine data-line-number=6 id=cb4-6>org.<span class=fu>junit</span>.<span class=fu>Assume</span>.*</a>
<a class=sourceLine data-line-number=7 id=cb4-7>org.<span class=fu>junit</span>.<span class=fu>matchers</span>.<span class=fu>JUnitMatchers</span>.*</a>
<a class=sourceLine data-line-number=8 id=cb4-8>org.<span class=fu>mockito</span>.<span class=fu>Mockito</span></a>
<a class=sourceLine data-line-number=9 id=cb4-9>org.<span class=fu>mockito</span>.<span class=fu>Matchers</span></a>
<a class=sourceLine data-line-number=10 id=cb4-10>org.<span class=fu>mockito</span>.<span class=fu>ArgumentMatchers</span></a>
<a class=sourceLine data-line-number=11 id=cb4-11>io.<span class=fu>restassured</span>.<span class=fu>RestAssured</span></a></code></pre></div></section><section class="slide level2"></section></section><section><section class="title-slide slide level1" id=the-end><h1>The End</h1></section><section class="slide level2" id=this-presentation-was-built-using-reveal.js-markdown-and-github-pages><h2><a href=https://lifelongprogrammer.blogspot.com/2019/03/building-presentations-with-reveal-js-markdown-and-github-pages.html target=blank>This presentation was built using Reveal.js, Markdown and Github Pages</a></h2></section></section></div></div></div></div><script src=https://revealjs.com/js/reveal.js></script><script src=https://denehyg.github.io/reveal.js-toolbar/lib/reveal.js/lib/js/head.min.js></script><script>Reveal.initialize({history:true,slideNumber:true,theme:Reveal.getQueryHash().theme,transition:Reveal.getQueryHash().transition||'default',toolbar:{position:'bottom',fullscreen:true,overview:true,pause:true,notes:true,help:true,captureMenu:true,capturePlaybackControl:true,loadIcons:true},dependencies:[{src:'https://revealjs.com/plugin/markdown/marked.js',condition:function(){return!!document.querySelector('[data-markdown]');}},{src:'https://revealjs.com/plugin/markdown/markdown.js',condition:function(){return!!document.querySelector('[data-markdown]');}},{src:'https://revealjs.com/lib/js/classList.js',condition:function(){return!document.body.classList;}},{src:'https://revealjs.com/plugin/zoom-js/zoom.js',async:true},{src:'https://revealjs.com/plugin/notes/notes.js',async:true},{src:'https://denehyg.github.io/reveal.js-menu/plugin/reveal.js-menu/menu.js',async:true},{src:'https://denehyg.github.io/reveal.js-toolbar/plugin/toolbar/toolbar.js',async:true}]});</script>